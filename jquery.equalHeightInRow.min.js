/***
*
* jquery.equalHeightInRow v1.0
* The jQuery plugin for equal height of the elements in the row
* Asanov Ruslan //github.com/AsanovRuslan
* Released under the MIT license - http://opensource.org/licenses/MIT

* EXAMPLE
* $('.block').equalHeightInRow();
*
* Equal height internal child elements
* $('.block').equalHeightInRow({ child: ['.child1,.child2']});
*
***/

(function(e){var f={countElementInRow:function(b,a){return Math.floor(b.width()/b.find(a).eq(0).outerWidth(!0))},getMaxHeight:function(b){var a=0;b.css({height:"","min-height":0});b.each(function(){e(this).height()>a&&(a=e(this).height())});return a},setHeight:function(b,a){"table-cell"==b.eq(0).css("display")?b.css("height",a):b.css("min-height",a);return{element:b,height:a}}};e.fn.equalHeightInRow=function(b){function a(){m.each(function(){var a=e(this),b=e(this).find(d),g=1,h;h=f.countElementInRow(a,
d)||0;g=Math.ceil(b.length/h);if(1<g){var k=[];b.each(function(a){k.push(this);if(0==(a+1)%h||!b[a+1]){a=e(k);c.onRowBefore(a);for(var d=0;d<c.child.length;d++)f.setHeight(a.find(c.child[d]),f.getMaxHeight(a.find(c.child[d])));f.setHeight(a,f.getMaxHeight(a));c.onRowAfter(a);k=[]}})}if(1==g){c.onRowBefore(b);for(g=0;g<c.child.length;g++)f.setHeight(a.find(c.child[g]),f.getMaxHeight(a.find(c.child[g])));f.setHeight(b,f.getMaxHeight(a.find(b)));c.onRowAfter(b)}});l||(c.onLoad(d),l=!0)}var c=e.extend({child:[],
windowLoad:!1,windowLoadReset:!1,onRowBefore:function(){},onRowAfter:function(){},onResizeBefore:function(){},onResizeAfter:function(){},onLoad:function(){}},b),d=this,m=e(d).parent(),l=!1;if(!d.length)return!1;if(c.windowLoad)e(window).on("load",a);else if(a(),c.windowLoadReset)e(window).on("load",a);e(window).on("resize",function(){c.onResizeBefore(d);a();c.onResizeAfter(d)});return d}})(jQuery);