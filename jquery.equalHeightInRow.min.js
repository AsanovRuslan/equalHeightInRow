/***
*
* jquery.equalHeightInRow v1.0
* The jQuery plugin for equal height of the elements in the row
* Asanov Ruslan //github.com/AsanovRuslan
* Released under the MIT license - http://opensource.org/licenses/MIT

* EXAMPLE
* $('.block').equalHeightInRow();
*
* Equal height internal child elements
* $('.block').equalHeightInRow({ child: ['.child1,.child2']});
*
***/

(function(e){var b={countElementInRow:function(l,a){var c=0,b=a.eq(0).position().top;a.each(function(a){if(e(this).position().top>b)return c=a,!1});return c},getMaxHeight:function(b){var a=0;b.css({height:"","min-height":0});b.each(function(){e(this).height()>a&&(a=e(this).height())});return a},setHeight:function(b,a){"table-cell"==b.eq(0).css("display")?b.css("height",a):b.css("min-height",a);return{elements:b,height:a}}};e.fn.equalHeightInRow=function(l){function a(){n.each(function(){var a=e(this),
f=e(this).find(g),d=1,h;h=b.countElementInRow(a,f)||0;d=Math.ceil(f.length/h);if(1<d){var k=[];f.each(function(a){k.push(this);if(0==(a+1)%h||!f[a+1]){a=e(k);c.onRowBefore(a);for(var d=0;d<c.child.length;d++)b.setHeight(a.find(c.child[d]),b.getMaxHeight(a.find(c.child[d])));b.setHeight(a,b.getMaxHeight(a));c.onRowAfter(a);k=[]}})}if(1==d){c.onRowBefore(f);for(d=0;d<c.child.length;d++)b.setHeight(a.find(c.child[d]),b.getMaxHeight(a.find(c.child[d])));b.setHeight(f,b.getMaxHeight(a.find(f)));c.onRowAfter(f)}});
m||(c.onLoad(g),m=!0)}var c=e.extend({child:[],windowLoad:!1,windowLoadReset:!1,onRowBefore:function(){},onRowAfter:function(){},onResizeBefore:function(){},onResizeAfter:function(){},onLoad:function(){}},l),g=this,n=e(g).parent(),m=!1;if(!g.length)return!1;if(c.windowLoad)e(window).on("load",a);else if(a(),c.windowLoadReset)e(window).on("load",a);e(window).on("resize",function(){c.onResizeBefore(g);a();c.onResizeAfter(g)});return g}})(jQuery);