/***
*
* jquery.equalHeightInRow v1.1
* The jQuery plugin for equal height of the elements in the row
* Asanov Ruslan //github.com/AsanovRuslan
* Released under the MIT license - http://opensource.org/licenses/MIT

* EXAMPLE
* $('.block').equalHeightInRow();
*
* Equal height internal child elements
* $('.block').equalHeightInRow({ child: ['.child1,.child2']});
*
***/

(function(d){var c={countElementInRow:function(e,a){var b=0,c=e.eq(0).position().top;if(a){var h=[];e.each(function(a){d(this).position().top>c&&(c=e.eq(a).position().top,h.push(b),b=0);b++});h.push(b);return h}e.each(function(a){if(d(this).position().top>c)return b=a,!1});return b},getMaxHeight:function(c){var a=0,b=0;c.css({height:"","min-height":0});c.each(function(){b=d(this).outerHeight();b>a&&(a=b)});return a},setHeight:function(c,a){"table-cell"==c.eq(0).css("display")?c.css("height",a):c.css("min-height",
a);return{elements:c,height:a}}};d.fn.equalHeightInRow=function(e){function a(){h.each(function(){var a=d(this),f=d(this).find(l),k=1,e;e=c.countElementInRow(f,b.eachRow)||0;if(b.eachRow){var h=1,n=0,m=[];f.each(function(a){m.push(this);if(h==e[n]||!f[a+1]){a=d(m);b.onRowBefore(a);for(var g=0;g<b.child.length;g++)console.log(a.find(b.child[g])),c.setHeight(a.find(b.child[g]),c.getMaxHeight(a.find(b.child[g])));c.setHeight(a,c.getMaxHeight(a));b.onRowAfter(a);m=[];h=0;n++}h++});return!0}k=Math.ceil(f.length/
e);if(1<k)return m=[],f.each(function(a){m.push(this);if(0==(a+1)%e||!f[a+1]){a=d(m);b.onRowBefore(a);for(var g=0;g<b.child.length;g++)c.setHeight(a.find(b.child[g]),c.getMaxHeight(a.find(b.child[g])));c.setHeight(a,c.getMaxHeight(a));b.onRowAfter(a);m=[]}}),!0;if(1==k){b.onRowBefore(f);for(k=0;k<b.child.length;k++)c.setHeight(a.find(b.child[k]),c.getMaxHeight(a.find(b.child[k])));c.setHeight(f,c.getMaxHeight(a.find(f)));b.onRowAfter(f)}});n||(b.onLoad(l),n=!0)}var b=d.extend({child:[],eachRow:!1,
windowLoad:!1,windowLoadReset:!1,windowLoadReset:!1,onRowBefore:function(){},onRowAfter:function(){},onResizeBefore:function(){},onResizeAfter:function(){},onLoad:function(){}},e),l=this,h=d(l).parent(),n=!1;if(!l.length)return!1;if(b.windowLoad)d(window).on("load",a);else if(a(),b.windowLoadReset)d(window).on("load",a);d(window).on("resize",function(){b.onResizeBefore(l);a();b.onResizeAfter(l)});return l}})(jQuery);